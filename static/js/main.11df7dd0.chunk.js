(this["webpackJsonptop5-lister-hw3"]=this["webpackJsonptop5-lister-hw3"]||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(48),c=n.n(s),i=(n(157),n(158),n(20)),o=n(18),l=n(22),u=n.n(l),d=n(33),j=n(12),b=n(91),h=n.n(b);h.a.defaults.withCredentials=!0;var m=h.a.create({baseURL:"http://localhost:4000/api"}),x=m,p={getAllYourTop5Lists:function(e){return m.get("/top5lists/my/",{params:e})},getAllTop5ListsPublished:function(e){return m.get("/top5lists/all/",{params:e})},getAllTop5ListsPublishedByUsername:function(e){return m.get("/top5lists/user/",{params:e})},getAllTop5ListsCommunity:function(e){return m.get("/top5lists/community/",{params:e})},createTop5List:function(e){return m.post("/top5list/",e)},saveTop5ListById:function(e,t){return m.put("/top5list/save/".concat(e),t)},publishTop5ListById:function(e,t){return m.post("/top5list/publish/".concat(e),t)},deleteTop5ListById:function(e){return m.delete("/top5list/".concat(e))},likeOrDislikeTop5ListById:function(e,t){return m.post("/top5list/like/".concat(e),t)},increaseViewsTop5ListById:function(e){return m.post("/top5list/views/increase/".concat(e))},commentOnTop5ListById:function(e,t){return m.post("/top5list/comment/".concat(e),t)},getLoggedIn:function(){return m.get("/loggedIn/")},registerUser:function(e){return m.post("/register/",e)},loginUser:function(e){return m.post("/login/",e)},logoutUser:function(){return m.get("/logout/")}},O=n(1),f=Object(a.createContext)();function g(e){var t=e.children,n=Object(a.useState)({message:"",status:"error"}),r=Object(j.a)(n,2),s=r[0],c=r[1],i={error:s,addError:Object(a.useCallback)((function(e){!function(e){var t=e.message,n=e.status;c({message:t,status:n=n||"error"})}({message:e.message,status:e.status})}),[]),removeError:Object(a.useCallback)((function(){return c({message:"",status:"error"})}),[])};return Object(O.jsx)(f.Provider,{value:i,children:t})}var v=function(){var e=Object(a.useContext)(f);return{error:e.error,addError:e.addError,removeError:e.removeError}},y=Object(a.createContext)(),L="GET_LOGGED_IN",C="REGISTER_USER",k="LOGIN_USER",w="LOGOUT_USER";function T(e){var t=v().addError,n=Object(a.useState)({user:null,loggedIn:!1}),r=Object(j.a)(n,2),s=r[0],c=r[1],i=Object(o.f)();Object(a.useEffect)((function(){s.getLoggedIn()}),[]);var l=function(e){var t=e.type,n=e.payload;switch(t){case L:return c({user:n.user,loggedIn:n.loggedIn});case C:case k:return c({user:n.user,loggedIn:!0});case w:return c({user:null,loggedIn:!1});default:return s}};return s.getLoggedIn=function(){p.getLoggedIn().then((function(e){!0===e.data.success&&l({type:L,payload:{loggedIn:e.data.data.loggedIn,user:e.data.data.user}})}))},s.registerUser=function(e,n){p.registerUser(e).then((function(e){!0===e.data.success&&(t({message:e.data.message,status:"success"}),i.push("/login"))}))},s.loginUser=function(e,n){p.loginUser(e).then((function(e){!0===e.data.success&&(l({type:k,payload:{user:e.data.data.user}}),t({message:e.data.message,status:"success"}),i.push("/home"))}))},s.logoutUser=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.logoutUser();case 2:200===e.sent.status&&(l({type:w,payload:{}}),i.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(O.jsx)(y.Provider,{value:{auth:s},children:e.children})}var S=y,E=n(15),I=Object(a.createContext)({}),D="LOAD_ALL_YOUR_LIST",A="LOAD_ALL_USER_LIST",_="LOAD_ALL_PUBLISHED_LIST",F="LOAD_COMMUNITY_LIST",N="MARK_LIST_FOR_DELETION",U="UNMARK_LIST_FOR_DELETION",R="SET_CURRENT_LIST",W="SET_SEARCH_KEYWORD",B="SET_SORT_TYPE",P="CLEAR_SEARCH_AND_SORT";function Y(e){var t=Object(a.useState)({yourList:[],userList:[],allList:[],communityList:[],currentList:null,search:"",sort:"date-desc",listMarkedForDeletion:null}),n=Object(j.a)(t,2),r=n[0],s=n[1],c=(Object(o.f)(),Object(o.g)()),i=Object(a.useContext)(S).auth,l=v().addError;Object(a.useEffect)((function(){console.log("App: useEffect:");var e=x.interceptors.response.use((function(e){return!1===e.data.success&&l({message:e.data.message}),e}),(function(e){return e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),!1===e.response.data.success&&l({message:e.response.data.message})):e.request?console.log(e.request):console.log("Error",e.message),Promise.reject(e)}));return function(){x.interceptors.response.eject(e)}}),[l]);var b=function(e){var t=e.type,n=e.payload;switch(t){case P:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{search:"",sort:"date-desc"})}));case W:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{search:n})}));case B:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{sort:n})}));case F:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{communityList:n})}));case _:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{allList:n})}));case D:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{yourList:n})}));case A:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{userList:n})}));case N:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{listMarkedForDeletion:n})}));case U:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{listMarkedForDeletion:null})}));case R:return s((function(e){return Object(E.a)(Object(E.a)({},e),{},{currentList:n})}));default:return r}};return r.clearSearchAndSort=function(){b({type:P})},r.setSearchKeyword=function(e){b({type:W,payload:e})},r.setSortType=function(e){b({type:B,payload:e})},r.setCurrentListForEdit=function(e){b({type:R,payload:e})},r.createNewList=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:"Untitled",items:["","","","",""]},e.abrupt("return",p.createTop5List(t).then((function(e){if(!0===e.data.success){var t=e.data.data.top5List;r.setCurrentListForEdit(t),r.loadYourList()}})));case 2:case"end":return e.stop()}}),e)}))),r.loadCommunityList=function(){var e=r.search,t=r.sort;p.getAllTop5ListsCommunity({search:e,sort:t}).then((function(e){if(!0===e.data.success){var t=e.data.data;b({type:F,payload:t})}})).catch((function(e){}))},r.loadAllList=function(){var e=r.search,t=r.sort;p.getAllTop5ListsPublished({search:e,sort:t}).then((function(e){if(console.log(e.data.data),!0===e.data.success){var t=e.data.data;b({type:_,payload:t})}})).catch((function(e){}))},r.loadYourList=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.search,n=r.sort,p.getAllYourTop5Lists({search:t,sort:n}).then((function(e){if(!0===e.data.success){var t=e.data.data;b({type:D,payload:t})}})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)}))),r.loadUserList=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.search,n=r.sort,p.getAllTop5ListsPublishedByUsername({search:t,sort:n}).then((function(e){if(!0===e.data.success){var t=e.data.data;b({type:A,payload:t})}})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)}))),r.reloadCurrentLists=function(){switch(c.pathname){case"/home":r.loadYourList();break;case"/all":r.loadAllList();break;case"/user":r.loadUserList();break;case"/community":r.loadCommunityList()}},r.markListForDeletion=function(e){b({type:N,payload:e})},r.deleteList=function(e){p.deleteTop5ListById(e).then((function(e){!0===e.data.success&&r.loadYourList()}))},r.deleteMarkedList=function(){var e=r.listMarkedForDeletion._id;r.unmarkListForDeletion(),r.deleteList(e)},r.unmarkListForDeletion=function(){b({type:U})},r.saveCurrentList=function(e,t){var n=r.currentList._id;return p.saveTop5ListById(n,{name:e,items:t}).then((function(e){console.log(e),!0===e.data.success&&(r.setCurrentListForEdit(null),r.loadYourList())}))},r.publishTop5List=function(e,t){var n=r.currentList._id;return p.publishTop5ListById(n,{name:e,items:t}).then((function(e){console.log(e),r.loadYourList(),!0===e.data.success&&r.setCurrentListForEdit(null)}))},r.likeOrDislike=function(e,t){if(i.loggedIn)return p.likeOrDislikeTop5ListById(e,{type:t}).then((function(e){!0===e.data.success&&r.reloadCurrentLists()})).catch((function(e){}))},r.increaseViews=function(e){return p.increaseViewsTop5ListById(e).then((function(e){!0===e.data.success&&r.reloadCurrentLists()})).catch((function(e){}))},r.commentOnTop5List=function(e,t){if(i.loggedIn)return p.commentOnTop5ListById(e,{comment:t}).then((function(e){!0===e.data.success&&r.reloadCurrentLists()})).catch((function(e){}))},Object(O.jsx)(I.Provider,{value:{store:r},children:e.children})}var z=I,M=n(282),V=n(281),q=n(283),G=n(279),K=n(280),H=n(284),J=n(274),Q=n(129),X=n(119),Z=n.n(X);function $(){var e=Object(a.useContext)(S).auth,t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],s=n[1],c=Boolean(r),l=Object(o.f)(),u=function(e){s(e.currentTarget)},d=function(){s(null)},b="primary-search-account-menu",h=Object(O.jsxs)(Q.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:d,children:[Object(O.jsx)(J.a,{onClick:function(){d(),l.push("/login")},children:"Login"}),Object(O.jsx)(J.a,{onClick:function(){d(),l.push("/register")},children:"Create New Account"})]}),m=Object(O.jsx)(Q.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:d,children:Object(O.jsx)(J.a,{onClick:function(){d(),e.logoutUser()},children:"Logout"})}),x=h;return e.loggedIn&&(x=m),Object(O.jsxs)(V.a,{className:"HeaderNavbar",sx:{flexGrow:0},children:[Object(O.jsx)(M.a,{position:"static",children:Object(O.jsxs)(q.a,{sx:{height:"64px"},children:[Object(O.jsx)(H.a,{variant:"h4",noWrap:!0,component:"div",sx:{display:{xs:"block",sm:"block"},flexGrow:1},children:Object(O.jsxs)(i.b,{style:{textDecoration:"none",color:"white"},to:"/",children:["T",Object(O.jsx)("sup",{children:"5"}),"L"]})}),Object(O.jsx)(V.a,{sx:{display:{xs:"flex",md:"flex"}},children:e.loggedIn?Object(O.jsx)(G.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":b,"aria-haspopup":"true",color:"inherit",onClick:u,children:e.user.firstName.charAt(0).toUpperCase()+e.user.lastName.charAt(0).toUpperCase()}):Object(O.jsx)(K.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":b,"aria-haspopup":"true",onClick:u,color:"inherit",children:Object(O.jsx)(Z.a,{})})})]})}),x]})}var ee=n(79),te=n(270),ne=n(291),ae=n(120),re=n.n(ae),se=n(121),ce=n.n(se),ie=n(122),oe=n.n(ie),le=n(123),ue=n.n(le),de=n(268),je=n(267),be=n(261);function he(){var e=Object(a.useContext)(z).store,t=a.useState(null),n=Object(j.a)(t,2),r=n[0],s=n[1],c=Boolean(r),i=function(){s(null)};function o(t){console.log(t),e.setSortType(t)}return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsxs)(V.a,{sx:{display:"flex",alignItems:"center",textAlign:"center",marginLeft:"auto"},children:[Object(O.jsx)(H.a,{sx:{},children:"SORT BY"}),Object(O.jsx)(je.a,{title:"Account settings",children:Object(O.jsx)(K.a,{onClick:function(e){s(e.currentTarget)},size:"large",sx:{mx:2},children:Object(O.jsx)(be.a,{})})})]}),Object(O.jsxs)(Q.a,{anchorEl:r,open:c,onClose:i,onClick:i,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(O.jsx)(J.a,{selected:"date-desc"===e.sort,onClick:function(e){o("date-desc")},children:"Publish Date (Newest)"}),Object(O.jsx)(J.a,{selected:"date-asc"===e.sort,onClick:function(e){o("date-asc")},children:"Publish Date (Oldest)"}),Object(O.jsx)(J.a,{selected:"views-desc"===e.sort,onClick:function(e){o("views-desc")},children:"Views"}),Object(O.jsx)(J.a,{selected:"likes-desc"===e.sort,onClick:function(e){o("likes-desc")},children:"Likes"}),Object(O.jsx)(J.a,{selected:"dislikes-desc"===e.sort,onClick:function(e){o("dislikes-desc")},children:"Dislikes"})]})]})}function me(e){var t=function(e){for(var t=Object(o.g)().pathname,n=0;n<e.length;n+=1){var a=e[n],r=Object(o.e)(t,{path:a,exact:!0,strict:!1});if(null!==r)return r}return null}(["/user","/home","/all","/community"]),n=null===t||void 0===t?void 0:t.path,r=Object(a.useContext)(S).auth,s=Object(a.useContext)(z).store,c=Object(a.useState)(""),l=Object(j.a)(c,2),u=l[0],d=l[1],b=Object(o.g)();return Object(a.useEffect)((function(){console.log("location changed",b),s.clearSearchAndSort()}),[b]),Object(a.useEffect)((function(){d(s.search)}),[s.search]),Object(O.jsxs)("div",{className:"navigation-wrapper",children:[Object(O.jsxs)(te.a,{sx:{display:"inline-block"},value:n,"aria-label":"icon tabs example",children:[Object(O.jsx)(ne.a,{icon:Object(O.jsx)(re.a,{fontSize:"large"}),"aria-label":"Your Lists",value:"/home",to:"/home",component:i.b,disabled:!r.loggedIn}),Object(O.jsx)(ne.a,{icon:Object(O.jsx)(ce.a,{fontSize:"large"}),"aria-label":"All Lists",value:"/all",to:"/all",component:i.b}),Object(O.jsx)(ne.a,{icon:Object(O.jsx)(oe.a,{fontSize:"large"}),"aria-label":"User Lists",value:"/user",to:"/user",component:i.b}),Object(O.jsx)(ne.a,{icon:Object(O.jsx)(ue.a,{fontSize:"large"}),"aria-label":"Community Lists",value:"/community",to:"/community",component:i.b})]}),Object(O.jsx)(de.a,{value:u,onChange:function(e){d(e.target.value)},onKeyPress:function(e){!function(e){if("Enter"===e.code){var t=e.target.value;s.setSearchKeyword(t)}}(e)},sx:{marginLeft:"10px",marginTop:"8px"},size:"small",margin:"normal"}),Object(O.jsx)(he,{})]})}var xe=["component"],pe=function(e){var t=e.children;return Object(O.jsxs)("div",{className:"home-overall-wrapper",children:[Object(O.jsx)(me,{}),Object(O.jsx)("div",{className:"inner-content-wrapper",children:t})]})},Oe=function(e){var t=e.component,n=Object(ee.a)(e,xe);return Object(O.jsx)(o.a,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return Object(O.jsx)(pe,{children:Object(O.jsx)(t,Object(E.a)({},e))})}}))},fe=n(297),ge=n(126),ve=n.n(ge),ye=n(4),Le=n(285),Ce=n(288),ke=n(287),we=n(286),Te=n(262);function Se(e){var t=Object(a.useContext)(I).store,n=null!==t.currentList,r=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.saveCurrentList(i,h);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){t.currentList&&(o(t.currentList.name),m(t.currentList.items))}),[t.currentList]);var s=Object(a.useState)(""),c=Object(j.a)(s,2),i=c[0],o=c[1],l=Object(a.useState)(["","","","",""]),b=Object(j.a)(l,2),h=b[0],m=b[1];var x=!!i,p=h&&h.some((function(e){return!!e})),f=x&&p,g=h&&h.every((function(e){return!!e})),v=x&&g;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(Le.a,{maxWidth:"sm",fullWidth:!0,open:n,onClose:function(){t.setCurrentListForEdit(null)},children:[Object(O.jsx)(we.a,{children:Object(O.jsx)(de.a,Object(ye.a)({autoFocus:!0,margin:"dense",label:"List title",fullWidth:!0,variant:"standard",onChange:function(e){o(e.target.value)},value:i},"autoFocus",!0))}),Object(O.jsx)(ke.a,{children:Object(O.jsx)(Te.a,{direction:"column",alignItems:"stretch",spacing:.5,children:h.map((function(e,t){return Object(O.jsxs)(V.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(O.jsxs)(H.a,{sx:{padding:"10px",marginRight:"10px",backgroundColor:"#e2ace2"},children:[t+1,"."]}),Object(O.jsx)(de.a,{margin:"dense",label:"item",fullWidth:!0,variant:"standard",onChange:function(e){!function(e,t){var n=h.slice();n[t]=e.target.value,m(n)}(e,t)},value:e})]},t+1)}))})}),Object(O.jsxs)(Ce.a,{children:[Object(O.jsx)(G.a,{onClick:r,disabled:!f,children:"Save"}),Object(O.jsx)(G.a,{onClick:function(){t.publishTop5List(i,h)},disabled:!v,children:"Publish"})]})]})})}var Ee=n(5),Ie=n(294),De=n(295),Ae=n(296),_e=n(125),Fe=n.n(_e),Ne=n(264),Ue=n(265),Re=n(124),We=n.n(Re),Be=n(289),Pe=n(293),Ye=n(275),ze=n(292),Me=n(278),Ve=n(263),qe=Object(Ee.a)(Me.a)((function(e){var t=e.theme;return Object(E.a)(Object(E.a)({},t.typography.body2),{},{padding:t.spacing(1),boxShadow:"none",borderRadius:0,backgroundColor:"transparent",color:"#feff8c",fontSize:"1.2rem"})})),Ge=Object(Ee.a)(Me.a)((function(e){var t=e.theme;return Object(E.a)(Object(E.a)({},t.typography.body2),{},{padding:t.spacing(1),backgroundColor:Ve.a.A100,color:t.palette.text.secondary})}));function Ke(e){var t=Object(a.useContext)(I).store,n=e.expanded,r=e.list,s=e.disableActions,c=r.items,i=Object(a.useState)(""),o=Object(j.a)(i,2),l=o[0],u=o[1];return Object(O.jsx)(ze.a,{in:n,timeout:"auto",unmountOnExit:!0,children:Object(O.jsx)(Pe.a,{children:Object(O.jsxs)(Ye.a,{container:!0,spacing:2,sx:{height:r.community?"400px":"300px",overflow:"hidden"},children:[Object(O.jsx)(Ye.a,{item:!0,xs:5,sx:{height:"100%"},children:Object(O.jsx)(Te.a,{direction:"column",justifyContent:"space-evenly",alignItems:"stretch",sx:{height:"100%",backgroundColor:"#6c59c2c9"},children:c.map((function(e,t){return Object(O.jsxs)(qe,{children:[t+1,". ",e,!0===r.community?Object(O.jsxs)(H.a,{variant:"span",sx:{display:"block"},children:["(",r.votes[t]," votes)"]}):""]},t)}))})}),r.published?Object(O.jsxs)(Ye.a,{item:!0,xs:7,sx:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"},children:[Object(O.jsx)(Te.a,{direction:"column",justifyContent:"flex-start",alignItems:"stretch",spacing:1,sx:{flex:1,overflowY:"auto"},children:r.comments?r.comments.map((function(e){return Object(O.jsxs)(Ge,{children:[Object(O.jsx)(Be.a,{underline:"always",children:e.user.username}),Object(O.jsx)(H.a,{paragraph:!0,children:e.text})]},e._id)})):""}),Object(O.jsx)(V.a,{sx:{height:"50px"},children:Object(O.jsx)(de.a,{disabled:s,sx:{display:"inline-block",marginTop:"8px"},size:"small",fullWidth:!0,onChange:function(e){u(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&l&&(u(""),t.commentOnTop5List(r._id,l).then((function(e){})).catch((function(e){})))},value:l,margin:"normal"})})]}):""]})})})}var He=["expand"],Je=Object(Ee.a)((function(e){e.expand;var t=Object(ee.a)(e,He);return Object(O.jsx)(K.a,Object(E.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));function Qe(e){var t=!!e.showDelete&&e.showDelete,n=e.list,r=Object(a.useContext)(I).store,s=!Object(a.useContext)(S).auth.loggedIn,c=Object(a.useState)(!1),i=Object(j.a)(c,2),o=i[0],l=i[1];return Object(O.jsxs)(Ie.a,{sx:{marginTop:"20px",marginBottom:"20px",backgroundColor:"#f1eefead",borderRadius:"5px"},children:[Object(O.jsx)(De.a,{action:Object(O.jsxs)(Te.a,{direction:"row",spacing:1,children:[Object(O.jsx)(G.a,{disabled:s,onClick:function(e){var t;t=n._id,r.likeOrDislike(t,"like")},color:"secondary",startIcon:Object(O.jsx)(Ne.a,{}),children:n.likes}),Object(O.jsx)(G.a,{disabled:s,onClick:function(e){var t;t=n._id,r.likeOrDislike(t,"dislike")},color:"primary",startIcon:Object(O.jsx)(Ue.a,{}),children:n.dislikes}),t?Object(O.jsx)(K.a,{onClick:function(e){var t;t=n,r.markListForDeletion(t)},"aria-label":"delete",children:Object(O.jsx)(We.a,{})}):""]}),title:n.name,subheader:!0===n.community?"":Object(O.jsxs)(H.a,{variant:"body2",children:["By:",Object(O.jsx)(Be.a,{underline:"always",children:n.user.username})]}),sx:{paddingBottom:0}}),Object(O.jsx)(Ke,{expanded:o,list:n,disableActions:s}),Object(O.jsxs)(Ae.a,{disableSpacing:!0,children:[!1===n.published?Object(O.jsx)(G.a,{onClick:function(e){var t;t=n,r.setCurrentListForEdit(t)},color:"error",sx:{textTransform:"none"},children:"Edit"}):"",!0===n.published?Object(O.jsxs)(H.a,{variant:"body2",color:"primary",children:[!0===n.community?"Updated:":"Published:",Object(O.jsx)("span",{style:{color:"green"},children:function(e){var t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}(n.publishedAt)})]}):"",Object(O.jsxs)(H.a,{sx:{marginLeft:"auto",marginRight:"50px"},variant:"body2",color:"primary",children:["Views:",Object(O.jsx)("span",{style:{color:"red"},children:n.views})]}),Object(O.jsx)(Je,{expand:o,onClick:function(){l(!o),o||r.increaseViews(n._id)},"aria-expanded":o,"aria-label":"show more",children:Object(O.jsx)(Fe.a,{})})]})]})}function Xe(e){var t=Object(a.useContext)(I).store,n=null!==t.listMarkedForDeletion,r=Object(a.useState)(""),s=Object(j.a)(r,2),c=s[0],i=s[1];Object(a.useEffect)((function(){t.listMarkedForDeletion&&i(t.listMarkedForDeletion.name)}),[t.listMarkedForDeletion]);var o=function(){t.unmarkListForDeletion()};return Object(O.jsxs)(Le.a,{open:n,onClose:o,children:[Object(O.jsxs)(we.a,{children:["Delete the ",c," Top 5 List?"]}),Object(O.jsxs)(Ce.a,{children:[Object(O.jsx)(G.a,{onClick:o,children:"Cancel"}),Object(O.jsx)(G.a,{onClick:function(){t.deleteMarkedList()},autoFocus:!0,children:"Confirm"})]})]})}function Ze(){var e=Object(a.useContext)(I).store;Object(a.useEffect)((function(){e.loadYourList()}),[e.search,e.sort]);var t=e.yourList?e.yourList:[],n=e.search,r=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.createNewList();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content-scroll",children:null===t||void 0===t?void 0:t.map((function(e){return Object(O.jsx)(Qe,{list:e,showDelete:!0},e._id)}))}),Object(O.jsxs)("div",{className:"bottom-status",children:[Object(O.jsx)(fe.a,{color:"primary","aria-label":"add",className:"add-list-button",size:"large",onClick:r,children:Object(O.jsx)(ve.a,{})}),Object(O.jsx)(H.a,{variant:"h3",sx:{},children:n?"Your "+n+" Lists":"Your Lists"}),Object(O.jsx)(Se,{}),Object(O.jsx)(Xe,{})]})]})}function $e(e){var t=Object(a.useContext)(I).store;Object(a.useEffect)((function(){t.loadCommunityList()}),[t.search,t.sort]);var n=t.communityList?t.communityList:[],r=t.search;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content-scroll",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(Qe,{list:e},e._id)}))}),Object(O.jsx)("div",{className:"bottom-status",children:Object(O.jsx)(H.a,{variant:"h3",sx:{},children:r?r+" Lists":"Community Lists"})})]})}function et(e){var t=Object(a.useContext)(I).store;Object(a.useEffect)((function(){t.loadUserList()}),[t.search,t.sort]);var n=t.userList?t.userList:[];console.log(n);var r=t.search;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content-scroll",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(Qe,{list:e},e._id)}))}),Object(O.jsx)("div",{className:"bottom-status",children:Object(O.jsx)(H.a,{variant:"h3",sx:{},children:r?r+" Lists":"User Lists"})})]})}function tt(e){var t=Object(a.useContext)(I).store;Object(a.useEffect)((function(){t.loadAllList()}),[t.search,t.sort]);var n=t.allList?t.allList:[],r=t.search;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content-scroll",children:null===n||void 0===n?void 0:n.map((function(e){return Object(O.jsx)(Qe,{list:e},e._id)}))}),Object(O.jsx)("div",{className:"bottom-status",children:Object(O.jsx)(H.a,{variant:"h3",sx:{},children:r?r+" Lists":"All Lists"})})]})}var nt=n(128),at=n(266),rt=n(26);function st(e){return Object(O.jsxs)(H.a,Object(E.a)(Object(E.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(O.jsx)(Be.a,{color:"inherit",component:i.b,to:"/",children:"The Top 5 Lister"})," ",(new Date).getFullYear(),".",Object(O.jsx)("br",{}),"Created by Yang Yu"]}))}function ct(){var e=Object(nt.a)({palette:{neutral:{main:"#64748B",contrastText:"#fff"}}}),t=Object(o.f)();return Object(O.jsx)(rt.c,{theme:e,children:Object(O.jsxs)(Ye.a,{container:!0,component:"main",flexDirection:"column",sx:{background:"linear-gradient(to left, #b993d6, #8ca6db)"},children:[Object(O.jsx)(at.a,{}),Object(O.jsxs)(Ye.a,{container:!0,sx:{flexGrow:1},children:[Object(O.jsx)(Ye.a,{item:!0,xs:12,md:8,children:Object(O.jsxs)(Ye.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",height:"100%",children:[Object(O.jsx)(H.a,{component:"h1",variant:"h3",padding:{xs:2,md:3},color:"white",children:"Welcome to The Top 5 Lister"}),Object(O.jsx)(H.a,{component:"h3",variant:"h5",padding:{xs:2,md:3},sx:{fontStyle:"italic",maxWidth:650,width:"100%"},color:"white",children:"An application where users can list their five favorite anything as well as see lists made by other users and even see the aggregate top 5 lists of all users for a given category."})]})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,md:4,children:Object(O.jsxs)(Ye.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",height:"100%",children:[Object(O.jsx)(G.a,{variant:"contained",sx:{width:"75%",maxWidth:300,mb:2,textTransform:"none"},onClick:function(){t.push("/register")},children:"Create Account"}),Object(O.jsx)(G.a,{variant:"contained",color:"success",sx:{width:"75%",maxWidth:300,mb:2,textTransform:"none"},onClick:function(){t.push("/login")},children:"Login"}),Object(O.jsx)(G.a,{color:"neutral",variant:"contained",sx:{width:"75%",maxWidth:300,textTransform:"none"},onClick:function(){t.push("/all")},children:"Continue as Guest"})]})})]}),Object(O.jsx)(Ye.a,{container:!0,children:Object(O.jsx)(Ye.a,{item:!0,xs:12,children:Object(O.jsx)(st,{component:"p",variant:"body",color:"white",padding:"10px"})})})]})})}var it=n(276),ot=n(78),lt=n.n(ot),ut=n(298),dt=Object(nt.a)();function jt(){var e=Object(a.useContext)(S).auth,t=Object(a.useContext)(I).store;return Object(O.jsx)(ut.a,{theme:dt,children:Object(O.jsxs)(Ye.a,{container:!0,component:"main",children:[Object(O.jsx)(at.a,{}),Object(O.jsx)(Ye.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(O.jsx)(Ye.a,{item:!0,xs:12,sm:8,md:5,component:Me.a,elevation:6,square:!0,children:Object(O.jsxs)(V.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(it.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(lt.a,{})}),Object(O.jsx)(H.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(O.jsxs)(V.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var a=new FormData(n.currentTarget);e.loginUser({email:a.get("email"),password:a.get("password")},t)},sx:{mt:1},children:[Object(O.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address or Username",name:"email",autoComplete:"email",autoFocus:!0}),Object(O.jsx)(de.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(O.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(O.jsxs)(Ye.a,{container:!0,children:[Object(O.jsx)(Ye.a,{item:!0,xs:!0}),Object(O.jsx)(Ye.a,{item:!0,children:Object(O.jsx)(Be.a,{component:i.b,to:"/register/",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(O.jsx)(st,{sx:{mt:5}})]})]})})]})})}var bt=n(290);function ht(){var e=Object(a.useContext)(S).auth,t=Object(a.useContext)(I).store,n=function(){var n=Object(d.a)(u.a.mark((function n(a){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),r=new FormData(a.currentTarget),e.registerUser({username:r.get("username"),firstName:r.get("firstName"),lastName:r.get("lastName"),email:r.get("email"),password:r.get("password"),passwordVerify:r.get("passwordVerify")},t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(O.jsxs)(bt.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(at.a,{}),Object(O.jsxs)(V.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsx)(it.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(O.jsx)(lt.a,{})}),Object(O.jsx)(H.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(O.jsxs)(V.a,{component:"form",onSubmit:n,sx:{mt:3},children:[Object(O.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(O.jsx)(Ye.a,{item:!0,xs:12,children:Object(O.jsx)(de.a,{autoComplete:"username",name:"username",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(de.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name"})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(de.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,children:Object(O.jsx)(de.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email"})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,children:Object(O.jsx)(de.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(O.jsx)(Ye.a,{item:!0,xs:12,children:Object(O.jsx)(de.a,{required:!0,fullWidth:!0,name:"passwordVerify",label:"Password Verify",type:"password",id:"passwordVerify",autoComplete:"new-password"})})]}),Object(O.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(O.jsx)(Ye.a,{container:!0,justifyContent:"flex-end",children:Object(O.jsx)(Ye.a,{item:!0,children:Object(O.jsx)(Be.a,{component:i.b,to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(O.jsx)(st,{sx:{mt:5}})]})}var mt=n(272),xt=n(269),pt=Object(xt.a)({notificationAlert:{"& .MuiAlert-icon":{fontSize:40}}});function Ot(){var e=pt(),t=v(),n=t.error,r=t.removeError,s=function(){r()},c=!!n.message,i=n&&n.message?n.message:"",o=n&&n.status?n.status:"",l=Object(a.useState)(""),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(a.useState)("error"),m=Object(j.a)(h,2),x=m[0],p=m[1];Object(a.useEffect)((function(){i&&(b(i),p(o))}),[i]);var f;return Object(O.jsxs)(Le.a,{open:c,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,children:[Object(O.jsx)(we.a,{id:"alert-dialog-title",children:(f=x,"string"!==typeof f?"":f.charAt(0).toUpperCase()+f.slice(1))}),Object(O.jsx)(ke.a,{children:Object(O.jsx)(mt.a,{className:e.notificationAlert,severity:x,sx:{fontSize:"1.5rem"},children:d})}),Object(O.jsx)(Ce.a,{children:Object(O.jsx)(G.a,{onClick:s,children:"Ok"})})]})}var ft=function(){return Object(O.jsx)(i.a,{children:Object(O.jsx)(g,{children:Object(O.jsx)(T,{children:Object(O.jsxs)(Y,{children:[Object(O.jsx)($,{}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/",exact:!0,component:ct}),Object(O.jsx)(o.a,{path:"/login",exact:!0,component:jt}),Object(O.jsx)(o.a,{path:"/register/",exact:!0,component:ht}),Object(O.jsx)(Oe,{path:"/home",exact:!0,component:Ze}),Object(O.jsx)(Oe,{path:"/all",exact:!0,component:tt}),Object(O.jsx)(Oe,{path:"/user",exact:!0,component:et}),Object(O.jsx)(Oe,{path:"/community",exact:!0,component:$e})]}),Object(O.jsx)(Ot,{})]})})})})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,299)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(ft,{})}),document.getElementById("root")),gt()}},[[188,1,2]]]);
//# sourceMappingURL=main.11df7dd0.chunk.js.map